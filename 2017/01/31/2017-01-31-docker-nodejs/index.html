<!DOCTYPE html>
<html style="display: none;" lang="en">
    <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            Docker로 nodejs서버 배포하기 | 
        
        Hojong blog
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Jong-Ho Jeong">
    <meta name="description" itemprop="description" content="Docker를 통해 nodejs 서버를 배포하는 것에 대해 포스팅합니다.">
    <meta name="keywords" content="null,javascript,nodejs,docker,deployment,server">

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Hojong blog">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://ho1234c.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Docker로 nodejs서버 배포하기 | Hojong blog">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="Docker를 통해 nodejs 서버를 배포하는 것에 대해 포스팅합니다.">
    <meta property="og:article:tag" content="javascript"> <meta property="og:article:tag" content="nodejs"> <meta property="og:article:tag" content="docker"> <meta property="og:article:tag" content="deployment"> <meta property="og:article:tag" content="server"> 

    
        <meta property="article:published_time" content="Jan 31, 2017">
        <meta property="article:modified_time" content="Dec 09, 2018">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="Docker로 nodejs서버 배포하기 | Hojong blog">
    <meta name="twitter:description" content="Docker를 통해 nodejs 서버를 배포하는 것에 대해 포스팅합니다.">
    <meta name="twitter:image" content="/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="http://ho1234c.github.io">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://ho1234c.github.io/2017/01/31/2017-01-31-docker-nodejs/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Hojong blog",
        "logo": "/img/favicon.png"
    },
    "author": {
        "@type": "Person",
        "name": "Jong-Ho Jeong",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicon.png"
        },
        "description": ""
    },
    "headline": "Docker로 nodejs서버 배포하기",
    "url": "http://ho1234c.github.io/2017/01/31/2017-01-31-docker-nodejs/index.html",
    "datePublished": "Jan 31, 2017",
    "dateModified": "Dec 09, 2018",
    "description": "Docker를 통해 nodejs 서버를 배포하는 것에 대해 포스팅합니다.",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://ho1234c.github.io"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.en.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?56ieHY/lfHwpOFYGS9lMXw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    
    
    
    
    
    .footer-sns-github {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNCA3OGMtNi40IDEuNC0yNi40IDE0LjItMzYgMjIuOC04IDcuMi0yMiAyOS44LTI0LjQgMzkuMi0xLjYgNi40LTIgMTEzLjItMS42IDM2OCAuNiAyOTkuNCAxIDM1OS44IDMuNCAzNjQgMTEgMjAuMiAyMS42IDMyLjQgMzcuMiA0MyAxNS42IDEwLjYgMTcuMiAxMS4yIDM0LjIgMTMuMiAxMC42IDEuMiA2My40IDEuNiAxMjcuNiAxLjRsMTA5LjYtLjYgNi02LjggNi4yLTYuOC0xLjItMjUuMmMtLjgtMTUuOC0uMi0zMy40IDEuNC00Ny4yIDMtMjUuNCAxLjQtMzYuMi02LTQzLjItNS00LjYtNi4yLTQuOC0zMC42LTQuMi0yNy42LjgtMjQgMS42LTY4LjgtMTYtOC42LTMuNC0yMi42LTE4LTI4LjQtMjkuOC0xMS40LTIyLjgtMjctNDUtMzkuMi01NS42LTE0LTEyLjItMTkuOC0yMC44LTE5LjgtMjguNiAwLTExLjYgMTMuNi0xMi42IDMzLjItMi40IDE2LjYgOC44IDIwLjggMTIuNCA0MC44IDM2LjIgMjQuMiAyOC42IDMxIDMzLjYgNTQgMzkuNiAxNS4yIDQgNDIuMiAzIDUxLjQtMS44IDktNC42IDE4LTE1LjIgMjQuNC0yOS4yIDExLjQtMjQuMiA3LjQtMzEuMi0yMC42LTM2LjgtOS44LTItMjkuMi04LTQzLjQtMTMuNC00MC40LTE1LjgtNjQuNi0zNy40LTg1LjQtNzYuMi0xMS42LTIxLjgtMTUuNC0zMy0xOC4yLTUzLjYtNC4yLTMyLjItNC44LTYwLjItMS40LTg0IDMuNC0yMy44IDYuOC0zMi44IDIwLjItNTQgNC02IDguOC0xNS42IDExLTIxLjQgMy44LTEwIDMuOC0xMS42IDEtMzAtNS4yLTM0LjItMy4yLTUyLjQgNy42LTcwLjIgNy4yLTEyLjIgMTUtMTcuMiAyNC4yLTE1LjggMTIuOCAyLjIgNTIgMTcuNCA2Ni44IDI2LjIgMjYgMTUgMjkgMTUuNCA4Mi40IDcuMiAyNC42LTMuOCAzMy44LTQuMiA2MC0zLjIgMTcgLjYgNDEuNCAzIDU0IDUuMiAzOC40IDYuNiA0OS42IDUuMiA3My0xMCA2LjYtNC4yIDE3LjQtOS40IDI0LTExLjYgNi42LTIuMiAxNi01LjggMjEtOC4yIDEzLTYgMjgtNS42IDM1LjYuOCAxMi40IDEwLjQgMTguNiA0MS40IDE0LjQgNzEuNi00LjQgMzAuNi0zIDM5LjQgOC40IDUzLjggMy40IDQuNCAxMS4yIDE5LjIgMTcuNCAzMy4yTDc3NSA0NDN2NzhsLTEwIDI4Yy0xNS4yIDQzLjItMzYuOCA3My4yLTY2LjIgOTIuOC0xMy40IDguOC01NyAyNS40LTc2LjggMjktMjguMiA1LjItMzMuMiAxMi42LTIyIDMyLjIgMTEuMiAxOS40IDEyLjQgMzIuOCAxMS42IDEyOS42bC0uNiA4NS44IDUuNCA0LjZjMy42IDMgOS4yIDUuMiAxNiA2IDUuOC44IDYwLjIgMSAxMjAuNi42IDEwOC40LS42IDExMC4yLS42IDExOS01IDI0LTExLjYgNDAtMjcuNCA1MS42LTUwLjZsNS40LTExIC42LTM0N2MuNC0yMjMtLjItMzUzLjQtMS40LTM2NS0yLTE3LTIuNi0xOC42LTEzLTM0LTEwLjYtMTUuNC0yMi44LTI2LjItNDMuMi0zNy4yLTQuMi0yLjQtNjQuNi0yLjgtMzY2LTMuMi0xOTguNiAwLTM2NCAuNC0zNjcuNiAxLjR6Ii8+PC9zdmc+);
    }
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    

    <!-- Custom Head -->
    
<link rel="stylesheet" href="/css/prism-darcula.css" type="text/css"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">1.</span> <span class="post-toc-text">도커 이해하기</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">2.</span> <span class="post-toc-text">설치</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">3.</span> <span class="post-toc-text">docker-compose</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">4.</span> <span class="post-toc-text">이미지 받아오기</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">5.</span> <span class="post-toc-text">컨테이너 생성하기</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">6.</span> <span class="post-toc-text">Dockerfile</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">7.</span> <span class="post-toc-text">테스트에 필요한 파일 만들기</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">8.</span> <span class="post-toc-text">빌드에 사용할 Dockerfile 만들기</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">9.</span> <span class="post-toc-text">docker-compose.yml</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">10.</span> <span class="post-toc-text">컨테이너 실행하기</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number">11.</span> <span class="post-toc-text">마치며</span></a></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(/img/thumbnails/2017-01-31-docker-nodejs.jpg)">
    
            <p class="article-headline-p">
                Docker로 nodejs서버 배포하기
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/cat.gif" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Jong-Ho Jeong</strong>
        <span>Jan 31, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/deployment/">deployment</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/docker/">docker</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/javascript/">javascript</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/nodejs/">nodejs</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/server/">server</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://ho1234c.github.io/2017/01/31/2017-01-31-docker-nodejs/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://ho1234c.github.io/2017/01/31/2017-01-31-docker-nodejs/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>Docker를 통해 nodejs 서버를 배포하는 것에 대해 포스팅합니다.</p>
<a id="more"></a> 
<style>
img{ 
  display: block;
  margin : 0 auto;
}
</style>
<p><img src="/images/2017-01-31-docker-nodejs/1.png" alt="docker"></p>
<p><small>도커의 공식로고. 이름은 Moby Dock. 옷에 박혀 있어도 입고 다닐 수 있을 정도로 매우 귀엽다.</small></p>
<p>이 포스트는 개인프로젝트에서 삽질하면서 이해한걸 토대로 도커에 대해 정리했습니다. 도커를 처음 접해보는 사람들을 대상으로 nodejs로 만든 웹서버를 도커 위에서 동작시키는 방법에 대해 소개합니다.<br>
nodejs와 nginx, postgresSQL을 사용하지만 사용법에 대해서는 소개하지 않습니다. 피드백은 언제나 감사합니다.</p>
<h1>도커 이해하기</h1>
<p>도커(Docker)는 전세계적으로 사용되고있는 컨테이너 가상화 플랫폼이다.<br>
처음에 가상화툴이라고 하면 호스트OS 위에 게스트OS를 설치해서 동작하는 VMware나 VirtualBox를 떠올린다. 하지만 도커는 이와 다르게 게스트OS를 설치하지 않는다.<br>
도커엔진 위에 시스템운영에 필요한 최소한의 라이브러리들만 설치하고 시스템자원은 호스트OS와 공유한다. OS를 설치하는 것이 아니라 필요한 시스템 파일만 격리시키고 실행은 호스트OS에 시키는 것이다.<br>
따라서 게스트OS를 설치하는 방식에 비해서 월등히 빠르다.</p>
<p><img src="/images/2017-01-31-docker-nodejs/2.png" alt="docker principle"></p>
<p>도커에는 이미지와 컨테이너라는 개념이 있다. 이미지를 통해서 컨테이너를 찍어낸다. 이미지만 있다면 같은 컨테이너를 몇개라도 만들 수 있다. (그것도 매우 빠르게)</p>
<p>도커는 레이어를 겹치는것처럼 컨테이너의 이미지를 겹치는 방식으로 동작한다. 따라서 하나의 이미지에서 파생된 여러가지 이미지를 만들 수 있다.<br>
또한 같은 이미지를 사용한다면 이미지의 용량을 아낄 수 있다.</p>
<p><img src="/images/2017-01-31-docker-nodejs/3.png" alt="docker principle"></p>
<p>또한 도커가 유명해진 가장 큰 이유 중 하나는 이렇게 제작한 이미지를 Docker Hub에 쉽게 공유할 수 있다는 점이다.<br>
마치 Github처럼 자유로운 pull/push가 가능하다.</p>
<h1>설치</h1>
<p>리눅스 컨테이너를 기반으로 하고 있기 때문에 리눅스에서 사용하는게 가장쉽고 보편적이다. 다른 OS에서 설치하면 내부적으로 VirtualBox와 그 위의 리눅스가 설치되고 거기에 도커가 설치된다.<br>
윈도우나 맥에서 도커를 좀더 편하게 사용하게 하기 위해서 <a href="https://www.docker.com/products/docker-toolbox" target="_blank">Docker Toolbox</a>를 설치 해서 사용한다.<br>
Toolbox는 다음과 같은 소프트웨어가 포함되어있다.</p>
<ul>
<li><strong>Docker Machine</strong> for running docker-machine commands</li>
<li><strong>Docker Engine</strong> for running the docker commands</li>
<li><strong>Docker Compose</strong> for running the docker-compose commands</li>
<li><strong>Kitematic</strong>, the Docker GUI</li>
<li>a shell preconfigured for a Docker command-line environment</li>
<li>Oracle <strong>VirtualBox</strong></li>
</ul>
<p>리눅스에선 설치스크립트를 통해 설치하거나 <a href="https://docs.docker.com/engine/installation/linux/ubuntu/" target="_blank">저장소를 이용해서 설치</a>할 수 있다.<br>
docker compose는 pip를 통해서 설치한다.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># docker-engine
sudo curl -sSL https://get.docker.com/ | sh

# docker-compose
sudo apt-get -y install python-pip
sudo pip install docker-compose
</code></pre>
<p>윈도우 혹은 맥에서는 Toolbox installer로 쉽게 설치할 수 있다.<br>
<img src="/images/2017-01-31-docker-nodejs/5.png" alt="install toolbox"></p>
<p>설치를 잘했는지 확인해본다. docker명령어 실행에는 기본적으로 보안권한이 필요하다.<br>
따라서 명령어 마다 sudo를 입력해주거나 권한이 있는 계정으로 실행해야한다.</p>
<pre class=" language-language-sh"><code class="language-language-sh">docker -v
docker-compose -v
</code></pre>
<h1>docker-compose</h1>
<p>도커로 서버를 구축할 때 컨테이너를 띄우는데, 한 컨테이너에 필요한 소프트웨어를 몰아서 설치할 수 도 있고 각각 컨테이너를 따로 만들고 내부적으로 연결 할 수도 있다.<br>
예를 들면 ubuntu 이미지에 nginx, nodejs, postgres를 모두 설치 할 수도 있고 각각 따로 설치된 컨테이너 세개를 띄우고 내부 네트워크로 연결 할 수 있다.<br>
이 때, 각각의 컨테이너를 띄우고 설정하는 스크립트를 매번 하기 힘들기 때문에 여러 컨테이너를 한번에 띄울 수 있게 하는 docker-compose를 사용한다.</p>
<blockquote>
<p>컨테이너안의 데이터는 영속성이 없기 때문에 컨테이너를 지우면 사라진다는걸 주의해야 한다. 그래서 영속성을 가져야 하는 데이터를 저장하는 용도로 사용하기엔 적절하지 않다.</p>
</blockquote>
<h1>이미지 받아오기</h1>
<pre class=" language-language-sh"><code class="language-language-sh"># 도커허브에서 이미지를 검색한다.
docker search 키워드
</code></pre>
<p>docker hub에서 보편적으로 사용 할 수 있게 미리 만들어진 이미지를 받아 올 수 있다.<br>
태그를 지정할 수 있는데, 일반적으로 버전을 지칭 한다. default는 latest.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># 이미지를 받아온다.
docker pull 이미지이름
</code></pre>
<p>잘 받아졌는지 받아놓은 이미지를 확인해본다.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># 이미지 목록을 출력한다.
docker images
</code></pre>
<blockquote>
<p>도커를 사용하다가 image 목록을 출력했을 때 내려받지도 않은 <code>&lt;none&gt;:&lt;none&gt;</code> 이라는 이름의 이미지가 목록에 있는 경우가 있다.<br>
이는 도커의 레이어기반 동작방식에 의한 이미지일 수 도 있고, Dockerfile을 빌드한 후 deprecated된 이미지를 garbage collection하지 못해서 남아있는 경우이다.</p>
</blockquote>
<pre class=" language-language-sh"><code class="language-language-sh"># 이미지를 제거한다
docker rmi 이미지이름 혹은 아이디

# dangling된 이미지를 모두 제거한다. 
docker rmi $(docker images -f "dangling=true" -q) 
</code></pre>
<h1>컨테이너 생성하기</h1>
<p>이미지를 통해서 컨테이너를 생성한다.</p>
<pre class=" language-language-sh"><code class="language-language-sh">docker run -it --name 컨테이너이름 이미지이름
</code></pre>
<p>생성한 컨테이너속에서 인터렉티브하게 쉘을 사용하기 위해서 i,t 옵션을 사용한다.<br>
정상적으로 실행이 되었다면 컨테이너속에 들어온것을 확인할 수 있다. exit로 컨테이너에서 빠져나올 수 있다. 컨테이너에서 빠져나오면 컨테이너는 비활성화 상태가 된다.<br>
쉘을 종료하지 않고 빠져나오려면 ctrl + p + q를 입력한다.</p>
<pre class=" language-language-sh"><code class="language-language-sh">docker ps -a
</code></pre>
<p>현재 실행되어 있는 컨테이너들의 목록을 표시한다. a옵션으로 활성화되어 있지않은 컨테이너까지 표시할 수 있다.</p>
<pre class=" language-language-sh"><code class="language-language-sh">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
9e4324652af9        ubuntu              "/bin/bash"         1 minutes ago      Up 4 seconds                            ubuntu
</code></pre>
<pre class=" language-language-sh"><code class="language-language-sh">docker start 컨테이너ID 혹은 컨테이너이름
docker stop 컨테이너ID 혹은 컨테이너이름
</code></pre>
<p>실행중인 컨테이너를 활성화하거나 비활성화한다.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># 컨테이너를 삭제한다.
docker rm 컨테이너ID 혹은 컨테이너이름
</code></pre>
<p>활성화 된 컨테이너를 삭제하기 위해서는 먼저 비활성화 하거나 -f를 사용해야한다.</p>
<h1>Dockerfile</h1>
<p>Dockerfile은 도커이미지를 빌드하기 위한 스크립트를 기술해놓은 파일이다. Dockerfile이 있는 폴더에서 도커 명령어를 실행하면 자동으로 바인딩된다.<br>
주요 커맨드는 다음과 같다.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># 베이스가 될 이미지. 로컬에 받아놓은 이미지를 먼저 찾고 없으면 리모트서버에서 받아온다.
FROM ubuntu

# 정보 입력
LABEL maintainer "ho1234c@gmail.com"

# 명령어 실행
RUN apt-get update
RUN apt-get install nginx

# 파일 복사
ADD 복사할파일 복사될위치
ADD . /app

# 열어줄 포트
EXPOSE 8080

# 빌드 컨텍스트에 사용할 환경변수 설정
ENV NODE_ENV production

# 워킹디렉토리 설정
WORKDIR /app

# 마운트할 볼륨의 위치를 지정
VOLUME ["/data"]

# 컨테이너가 실행되었을 때 실행할 명령어
CMD ["npm", "start"]
</code></pre>
<h1>테스트에 필요한 파일 만들기</h1>
<p>여기서는 nginx로 reverse proxy를 구성하고, nodejs서버는 서버내부의 데이터베이스에 접근하는 구조라고 가정한다.</p>
<p>테스트에 사용하기 위한 파일들을 만든다. 여기서 주의해야 할 부분은 데이터베이스에 접근하는 부분이다.<br>
외부 데이터베이스를 사용하면 그냥 주소를 통해서 연결 하면 되지만 한 서버내에 데이터베이스 컨테이너를 따로 띄우는 경우,<br>
docker-compose에서 컨테이너 끼리의 연결에 관련된 설정을 해줄 수 있다.</p>
<pre class=" language-language-sh"><code class="language-language-sh">app
├─nginx
│ ├──Dockerfile
│ └──nginx.conf
├─postgres
│ ├──Dockerfile
│ └──init-table.sql
├─Dockerfile
└─index.js
</code></pre>
<pre class=" language-language-js"><code class="language-language-js">// index.js
const express = require('express');
const pg = require('pg');
const app = express();

app.get('/', (req, res) => {
    
    // postgres 컨테이너에 app_db라는 도메인으로 접근 할수 있게 docker-compose에서 연결해준다.
    const conString = "postgres://postgres:1234@app_db:5432/docker_tutorial";
    const results = [];

    var client = new pg.Client(conString);
    client.connect(function (err) {
        const results = [];
        const query = client.query('SELECT * FROM car');

        query.on('row', (row) => {
            results.push(row);
        });

        query.on('end', () => {
            client.end();
            return res.json(results);
        });
    });
});

app.listen(3000, function () {
    console.log('test server listening on port 3000');
});
</code></pre>
<pre class=" language-language-sh"><code class="language-language-sh"># nginx/nginx.conf
worker_processes 4;

events { 
    worker_connections 1024; 
}

http {
    upstream app {
        server localhost:3000;
    }
    
    server {
        listen 80;

        location / {
            proxy_pass http://app;
        }
    }
}
</code></pre>
<p>테스트에 사용할 table을 만들고 데이터를 몇개 넣는 쿼리를 작성한다.<br>
컨테이너를 올릴 때 마다 새로 생성되는 데이터베이스에 초기 데이터를 삽입해 주기 위해<br>
이 파일을 컨테이너를 초기화 할 때 실행시켜준다.</p>
<pre class=" language-language-sql"><code class="language-language-sql">-- postgres/init-table.sql
CREATE TABLE car(name varchar(64), color varchar(64));
INSERT INTO car(name, color) values('Audis', 'Blue');
INSERT INTO car(name, color) values('BMW', 'Red');
INSERT INTO car(name, color) values('Honda', 'Black');
</code></pre>
<h1>빌드에 사용할 Dockerfile 만들기</h1>
<p>사용할 이미지를 받는다. 받아놓지 않아도 빌드가 가능하지만 받아오는 시간 때문에 오래걸린다.</p>
<pre class=" language-language-sh"><code class="language-language-sh">docker pull node
docker pull nginx
docker pull postgres
</code></pre>
<p>node 이미지 빌드에 사용할 Dockerfile을 만든다.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># Dockerfile
FROM node
MAINTAINER ho1234c <ho1234c@gmail.com>

RUN mkdir /app
ADD . /app
WORKDIR /app

CMD ["node", "index.js"]
</code></pre>
<p>nginx 이미지 빌드에 사용할 Dockerfile을 만든다.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># nginx/Dockerfile
FROM nginx
ADD nginx.conf /etc/nginx/nginx.conf
</code></pre>
<p>postgres 이미지 빌드에 사용할 Dockerfile을 만든다. 빌드 후에 /docker-entrypoint-initdb.d/<br>
안의 *.sql, *.sh 파일들이 실행된다.</p>
<p>postgres 공식 이미지에는 POSTGRES_USER, POSTGRES_PASSWORD처럼 이미지를 쉽게 사용할 수 있도록 미리 지정해놓은 환경변수들이 있다.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># postres/Dockerfile
FROM postgres:9.3
ENV POSTGRES_USER postgres
ENV POSTGRES_PASSWARD 1234
ENV POSTGRES_DB docker_tutorial
ADD init-table.sql /docker-entrypoint-initdb.d/
</code></pre>
<h1>docker-compose.yml</h1>
<p>docker-compose는 파이썬 기반으로 작성되어 있기 때문에 yml을 사용한다.<br>
links를 통해서 컨테이너끼리 접근 할 수 있다. 컨테이너들이 올라간 후에 확인해보면<br>
/etc/hosts 속에 여기서 설정한 것들이 들어가 있는것을 확인 할 수 있다.</p>
<pre class=" language-language-yaml"><code class="language-language-yaml"># docker-compose의 버전을 명시. 버전별로 명령어등의 약간의 차이가 있다.
version: "2"

services:
    nginx:
        # 만들어질 container 이름
        container_name: nginx

        # Dockerfile의 위치
        build: ./nginx

        # 컨테이너 끼리 내부적으로 연결할 때의 alias
        # 예를 들어 A:B 의 경우 이 컨테이너 내에서 B라는 이름으로 A에 연결 할 수 있다.
        # 여기서는 nginx에서 app이라는 도메인을 통해서 app 컨테이너에 접근할 수 있다.
        links:
            - app:app

        # 열어줄 포트
        # 호스트와 연결할 포트:외부에 노출할 포트
        ports:
            - 80:80
        
    app:
        container_name: app
        build: .

        # 환경변수를 지정할 수 있음.
        environment:
            NODE_ENV: localhost
        ports:
            - 8000
        links:
            - postgres:app_db
        
    postgres:
        container_name: postgres
        image: postgres:9.3
        ports:
            - 5432
</code></pre>
<p>개발중에 컨테이너를 자주 올렸다 내렸다 하는데, 그때마다 데이터베이스가 설치된 컨테이너도 초기화 된다.<br>
테스트에서는 별 상관없지만 실제 서비스에선 데이터가 지워지면 안된다. docker에선 이를 위해서 data volume을 만들 수 있다. 이를 통해서 docker속에 영속성이 유지되는 볼륨을 만들어 주거나 호스트의 디렉토리와 연결 할 수 있다.</p>
<pre class=" language-language-yaml"><code class="language-language-yaml"> # 데이터 볼륨 지정
        # 호스트 디렉터리:컨테이터 디렉터리
        # 컨테이너 내부에서 해당 경로에 접근하면 지정한 호스트 디렉터리로 접근할 수 있다.
        # 데이터베이스의 경우 유지되어야 할 파일의 위치를 볼륨으로 지정해 주면 
        # 볼륨을 삭제하지 않는 한 컨테이너가 재기동되어도 영속성이 유지된다.
        volumes: 
            - /data/postgres:/var/lib/postgresql/data
</code></pre>
<h1>컨테이너 실행하기</h1>
<p>docker-compose.yml이 있는 위치에서 빌드를 해준다.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># docker-compose.yml에 기술 한대로 컨테이너를 빌드한다.
docker-compose build
</code></pre>
<pre class=" language-language-sh"><code class="language-language-sh"># 빌드한 컨테이너들을 실행시킨다.
docker-compose up
</code></pre>
<p>빌드와 동시에 실행하려면 --build 옵션을 사용한다. 또한 -d 옵션으로 백그라운드에서 실행 시킬 수 있다.</p>
<pre class=" language-language-sh"><code class="language-language-sh"># 실행중인 컨테이너를 정지하고 삭제한다.
docker-compose down
</code></pre>
<p><img src="/images/2017-01-31-docker-nodejs/6.png" alt="dokcer-compose-up"><br>
<br></p>
<blockquote>
<p>윈도우나 맥에서 도커를 샤용한다면 VM을 통하게 되는데, 이 때는 localhost 와 같은 루프백 도메인이 아니라<br>
docker machine과 호스트pc가 연결 되어있는 주소를 사용해야한다. docker terminal에서 <code>docker-machine ls</code> 를 입력하면 url을 확인할 수 있다.</p>
</blockquote>
<br>
<p><img src="/images/2017-01-31-docker-nodejs/4.png" alt="check"></p>
<h1>마치며</h1>
<p>도커를 활용하면 컨테이너를 두개 띄우고 라우터 설정만 바꿔주는 식으로 Blue-Green등의 배포전략을 쉽고 부드럽게 구성 할 수 있다. 특히 가벼운 프로젝트나 마이크로서비스에는 장점이 극대화되는것 같다.</p>
<p>아직 한국어로 된 자료도 많이 없고 해서 배우기 어려웠고 삽질도 많이 했다. 하지만 사용해보니 내부원리는 이해하기 어렵지만 사용하기는 쉽다는 느낌을 받았다. 단기간내에 대세가 되는건 다 이유가 있는것같다. 앞으로도 적극적으로 활용해야겠다.</p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://ho1234c.github.io/2017/01/31/2017-01-31-docker-nodejs/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://ho1234c.github.io/2017/01/31/2017-01-31-docker-nodejs/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//ho1234c.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/03/12/2017-03-12-angular.io-architecture/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Newer
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/01/01/2017-01-01-remember-2016/" id="post_nav-older" class="next-content">
            Older
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/2.jpg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/cat.gif" alt="Jong-Ho Jeong's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        ho1234c@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:ho1234c@gmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                Home
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    Archives
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2020/01/">January 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">September 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">March 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">February 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">December 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">October 2018<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/02/">February 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">January 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/07/">July 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">March 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">January 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">November 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">October 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">September 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">August 2016<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">July 2016<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                Categories
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/etc/">etc<span class="sidebar_archives-count">13</span></a></li><li><a class="sidebar_archives-link" href="/categories/javascript/">javascript<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/categories/python/">python<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/travel/">travel<span class="sidebar_archives-count">5</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="github.com/ho1234c" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2016&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Hojong blog
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//ho1234c.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
